<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>F1 Assetto Corsa</title>
  <link href="css/style.css" rel="stylesheet"/>

  <style>
    /* --- overrides (header cleanup) --- */
    .hero { position: relative; }

    /* ✅ Layout: banner arriba, título abajo-izq, botón abajo-der */
    .heroTop{
      display:grid;
      grid-template-columns: 1fr auto;
      grid-template-areas:
        "banner banner"
        "title  btn";
      align-items:end;
      gap:10px 16px;
    }

    .heroBanner{
      grid-area:banner;
      display:block;
      margin:0;
    }

    .heroTitle{
      grid-area:title;
      margin:0;
      padding:0;
      line-height:1.15;
    }

    .reglamentoBtn{
      grid-area:btn;
      justify-self:end;
      align-self:end;
    }

    #seasonPill{ display:none !important; } /* keep in DOM for JS, hide visually */

    /* ✅ NUEVO: dock de redes abajo a la derecha (usa el "margen libre") */
    .heroSocialDock{
      position:absolute;
      right:22px;
      bottom:18px;
      display:flex;
      gap:10px;
      align-items:center;
      z-index:2;
    }

    .heroSocialDock .socialPill{
      padding:10px 12px;
      font-size:12px;
      letter-spacing:.06em;
      opacity:.92;
      /* hace el texto más legible sobre el fondo */
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
    }
    .heroSocialDock .socialPill:hover{ opacity:1; }

    /* Mobile: evita superposición (dock pasa a flujo normal debajo del botón) */
    @media (max-width:720px){
      .wrap{ padding:12px; }

      .heroTop{
        grid-template-columns: 1fr;
        grid-template-areas:
          "banner"
          "title"
          "btn";
        gap:10px;
      }

      .heroTitle{ font-size: clamp(18px, 5vw, 22px); }

      .reglamentoBtn{
        width:100%;
        justify-content:center;
        padding:12px 16px;
        font-size:13px;
        letter-spacing:.08em;
      }

      .heroSocialDock{
        position:static;     /* vuelve al flujo */
        margin-top:10px;
        justify-content:flex-end;
      }

      .updatedFooter{ justify-content:center; }
      .updatedText{ white-space:normal; text-align:center; }
    }

    /* Updated moved to bottom */
    .pageFooter{
      margin:24px 0 40px;
      padding:0 8px;
    }
    .updatedFooter{
      display:flex;
      justify-content:flex-end;
    }
    .updatedText{
      font-size:12px;
      opacity:.7;
      white-space:nowrap;
    }

    /* keep the old stats pills hidden */
    #pointsPill, #racesPill{ display:none !important; }
  </style>
</head>

<body>
  <div class="wrap">
    <header class="hero">
      <div class="heroTop">
        <img class="heroBanner" src="./img/banner.png" alt="AssettoF1 - Liga" width="718" height="85">

        <h1 class="heroTitle" id="title">TEMPORADA 2026 - Etapa 1</h1>

        <span class="pill" id="seasonPill">Temporada</span>

        <a class="pill right reglamentoBtn" href="./reglamento.html">Reglamento</a>
      </div>

      <!-- ✅ NUEVO: redes abajo a la derecha (en el margen libre) -->
      <div class="heroSocialDock">
        <a
          class="pill right socialPill"
          href="https://www.instagram.com/assetto.f1/"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Instagram AssettoF1"
          title="Instagram"
        >Instagram</a>

        <a
          class="pill right socialPill"
          href="https://chat.whatsapp.com/Db5wf2PYOR4Do7m6kQv76M"
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Grupo de WhatsApp AssettoF1"
          title="WhatsApp"
        >WhatsApp</a>
      </div>

      <p class="heroSub" id="subtitle"></p>
    </header>

    <div class="card" id="loadCard" style="display:none">
      <div class="row">
        <span class="pill warn">Modo offline</span>
        <small>
          Si abriste con <span class="mono">file://</span>, algunos navegadores bloquean <span class="mono">fetch()</span>.
          Cargá tu <span class="mono">championship.json</span> manualmente:
        </small>
      </div>
      <div class="row" style="margin-top:10px">
        <input accept=".json,application/json" id="filePicker" type="file"/>
        <small>Elegí el archivo exportado desde el builder.</small>
      </div>
    </div>

    <div class="card" id="standingsCard">
      <div class="row">
        <span class="pill ok" id="driversCount">Pilotos: 0</span>
        <span class="pill" id="pointsPill" style="display:none !important;">Puntos: 20–17–14…</span>
        <span class="pill" id="racesPill" style="display:none !important;">Fechas: 0</span>
      </div>
      <hr/>
      <h2>Campeonato de Pilotos</h2>
      <div class="standings" id="driversStandings"></div>
    </div>

    <div class="card">
      <div class="row">
        <h2 style="margin:0">Resultados (última → primera)</h2>
        <span class="pill right" id="historyCount">0 carreras</span>
      </div>
      <div id="history"></div>
    </div>
  </div>

  <footer class="pageFooter">
    <div class="updatedFooter">
      <span class="updatedText" id="updatedPill">Actualizado</span>
    </div>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
